2025-05-28 16:17:53,250 - INFO - Modelos base configurados para predicción de puntos de equipo
2025-05-28 16:17:53,251 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 16:17:53,284 - INFO -    - Equipos únicos: 30
2025-05-28 16:17:53,285 - INFO -    - Columnas disponibles: 32
2025-05-28 16:17:56,371 - INFO - Modelos base configurados para predicción de puntos de equipo
2025-05-28 16:17:56,371 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 16:17:56,395 - INFO -    - Equipos únicos: 30
2025-05-28 16:17:56,395 - INFO -    - Columnas disponibles: 32
2025-05-28 16:19:21,552 - INFO - Modelos base configurados para predicción de puntos de equipo
2025-05-28 16:19:21,553 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 16:19:21,553 - INFO - TeamPointsModelTester inicializado
2025-05-28 16:19:21,554 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 16:19:21,568 - INFO - Datos cargados: 5226 partidos
2025-05-28 16:19:21,569 - INFO -    - Equipos únicos: 30
2025-05-28 16:19:21,570 - INFO -    - Columnas disponibles: 32
2025-05-28 16:19:21,574 - INFO -    - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 16:19:21,574 - INFO - Estadísticas básicas:
2025-05-28 16:19:21,575 - INFO -    - Puntos promedio: 113.6
2025-05-28 16:19:21,575 - INFO -    - Puntos min/max: 67/162
2025-05-28 16:19:21,575 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 16:19:21,581 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 16:19:21,581 - INFO - Generando features avanzadas...
2025-05-28 16:19:21,581 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:19:22,390 - ERROR - Error en el test: '<=' not supported between instances of 'Rolling' and 'int'
2025-05-28 16:19:50,364 - INFO - Modelos base configurados para predicción de puntos de equipo
2025-05-28 16:19:50,366 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 16:19:50,366 - INFO - TeamPointsModelTester inicializado
2025-05-28 16:19:50,366 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 16:19:50,380 - INFO - Datos cargados: 5226 partidos
2025-05-28 16:19:50,380 - INFO -    - Equipos únicos: 30
2025-05-28 16:19:50,380 - INFO -    - Columnas disponibles: 32
2025-05-28 16:19:50,384 - INFO -    - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 16:19:50,384 - INFO - Estadísticas básicas:
2025-05-28 16:19:50,384 - INFO -    - Puntos promedio: 113.6
2025-05-28 16:19:50,384 - INFO -    - Puntos min/max: 67/162
2025-05-28 16:19:50,384 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 16:19:50,387 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 16:19:50,387 - INFO - Generando features avanzadas...
2025-05-28 16:19:50,387 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:19:51,318 - INFO - Generadas 118 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:19:51,319 - INFO - Features generadas: 118 características
2025-05-28 16:19:51,319 - INFO - Validación completada: 118 features, 110 faltantes
2025-05-28 16:19:51,319 - INFO - Reporte de validación:
2025-05-28 16:19:51,319 - INFO -    - Total features: 118
2025-05-28 16:19:51,319 - INFO -    - Features faltantes: 110
2025-05-28 16:19:51,319 - INFO -    - base_calculations: 0/15 (0.0%)
2025-05-28 16:19:51,319 - INFO -    - team_offense_stats: 8/14 (57.1%)
2025-05-28 16:19:51,319 - INFO -    - shooting_efficiency: 0/4 (0.0%)
2025-05-28 16:19:51,319 - INFO -    - pace_and_possession: 0/1 (0.0%)
2025-05-28 16:19:51,319 - INFO -    - historical_trends: 0/54 (0.0%)
2025-05-28 16:19:51,319 - INFO -    - momentum_features: 0/7 (0.0%)
2025-05-28 16:19:51,319 - INFO -    - contextual_factors: 0/5 (0.0%)
2025-05-28 16:19:51,319 - INFO -    - opponent_impact: 0/3 (0.0%)
2025-05-28 16:19:51,319 - INFO -    - matchup_specific: 0/4 (0.0%)
2025-05-28 16:19:51,319 - INFO -    - temporal_features: 0/4 (0.0%)
2025-05-28 16:19:51,319 - INFO -    - advanced_projections: 0/4 (0.0%)
2025-05-28 16:19:51,319 - INFO -    - final_interactions: 0/3 (0.0%)
2025-05-28 16:19:51,319 - INFO - Iniciando test completo del modelo...
2025-05-28 16:19:51,326 - INFO - División temporal:
2025-05-28 16:19:51,326 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 16:19:51,326 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 16:19:51,326 - INFO - Entrenando modelo...
2025-05-28 16:19:51,326 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 16:19:51,326 - INFO - Generando características avanzadas...
2025-05-28 16:19:51,326 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:19:52,158 - INFO - Generadas 118 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:19:52,158 - WARNING - Características faltantes para equipo: {'team_scoring_volatility', 'team_momentum_context', 'team_home_court_boost', 'team_win_pct_7g', 'team_shooting_rhythm', 'team_final_prediction', 'team_rest_advantage', 'team_shots_per_minute', 'team_ftpct_avg_5g', 'team_direct_scoring_projection_avg_10g', 'opponent_fg_defense', 'team_vs_opp_scoring_history', 'team_season_fatigue', 'team_direct_scoring_projection_avg_7g', 'team_3ppct_avg_5g', 'days_rest', 'team_urgency_factor', 'team_fta_avg_15g', 'team_energy_factor', 'team_fga_avg_7g', 'team_ft_aggressiveness', 'team_3pa_avg_7g', 'team_ft_aggressiveness_avg_15g', 'team_fgpct_avg_3g', 'team_season_importance', 'team_is_home', 'team_games_last_week', 'team_ftpct_avg_10g', 'is_weekend', 'team_total_shot_volume_avg_15g', 'team_altitude_factor', 'team_final_projection', 'team_ftpct_avg_3g', 'team_win_pct_3g', 'team_total_attempts', 'team_3ppct_avg_10g', 'team_matchup_scoring_edge', 'team_fgpct_avg_5g', 'team_efficiency_trend', 'team_shot_possessions', 'team_conversion_efficiency_avg_7g', 'team_confidence_factor', 'team_total_shot_volume_avg_3g', 'team_conversion_efficiency_avg_5g', 'team_conversion_efficiency_avg_10g', 'team_fga_avg_15g', 'team_scoring_potential', 'team_hybrid_projection', 'team_season_phase', 'team_direct_scoring_projection_avg_3g', 'opponent_def_strength', 'team_conversion_efficiency_avg_3g', 'team_total_shot_volume_avg_5g', 'team_3ppct_avg_7g', 'opponent_defensive_pressure', 'team_shot_quality_index', 'team_opponent_adjusted_projection', 'team_season_adaptation', 'team_3p_shot_rate', 'team_efg_approx', 'team_fta_avg_10g', 'team_fgpct_avg_7g', 'team_fta_avg_5g', 'team_conversion_efficiency', 'team_shooting_consistency', 'team_fgpct_avg_10g', 'team_fta_avg_7g', 'team_total_shot_volume_avg_10g', 'team_3ppct_avg_3g', 'team_win_pct_5g', 'month', 'team_2p_shot_rate', 'team_fta_avg_3g', 'team_3p_frequency', 'team_fga_avg_5g', 'team_ft_aggressiveness_avg_5g', 'team_rivalry_factor', 'team_fga_avg_10g', 'team_mathematical_projection', 'team_total_shot_volume', 'team_seasonal_improvement', 'team_shooting_balance', 'team_direct_scoring_projection_avg_15g', 'team_3pa_avg_10g', 'team_scoring_trend_short', 'team_vs_opp_efficiency_history', 'days_into_season', 'team_total_shot_volume_avg_7g', 'team_3ppct_avg_15g', 'team_matchup_advantage', 'team_3pa_avg_3g', 'team_direct_scoring_projection', 'team_ft_aggressiveness_avg_3g', 'day_of_week', 'team_ts_approx', 'team_scoring_momentum', 'team_fga_avg_3g', 'team_3pa_avg_15g', 'team_ftpct_avg_15g', 'team_ftpct_avg_7g', 'team_scoring_consistency', 'team_efficiency_vs_season', 'team_direct_scoring_projection_avg_5g', 'team_conversion_efficiency_avg_15g', 'team_3pa_avg_5g', 'team_fgpct_avg_15g', 'team_ft_aggressiveness_avg_10g', 'team_weighted_shot_volume', 'team_efficiency_stability', 'team_ft_aggressiveness_avg_7g'}
2025-05-28 16:19:52,158 - INFO - Características faltantes más comunes:
2025-05-28 16:19:52,158 - INFO -   - team_scoring_volatility
2025-05-28 16:19:52,158 - INFO -   - team_momentum_context
2025-05-28 16:19:52,158 - INFO -   - team_home_court_boost
2025-05-28 16:19:52,166 - INFO -   - team_win_pct_7g
2025-05-28 16:19:52,166 - INFO -   - team_shooting_rhythm
2025-05-28 16:19:52,166 - INFO -   - team_final_prediction
2025-05-28 16:19:52,166 - INFO -   - team_rest_advantage
2025-05-28 16:19:52,166 - INFO -   - team_shots_per_minute
2025-05-28 16:19:52,166 - INFO -   - team_ftpct_avg_5g
2025-05-28 16:19:52,166 - INFO -   - team_direct_scoring_projection_avg_10g
2025-05-28 16:19:52,166 - INFO - Características disponibles para puntos de equipo: 8
2025-05-28 16:19:52,166 - INFO - División temporal: 3341 entrenamiento, 836 validación
2025-05-28 16:19:52,169 - INFO - Entrenando modelos individuales...
2025-05-28 16:19:52,169 - INFO - Entrenando xgboost...
2025-05-28 16:19:52,169 - INFO - Optimizando hiperparámetros para xgboost...
2025-05-28 16:20:11,751 - INFO - Mejores parámetros para xgboost: {'subsample': 0.8, 'reg_lambda': 0.01, 'reg_alpha': 0.2, 'n_estimators': 400, 'max_depth': 6, 'learning_rate': 0.03, 'colsample_bytree': 0.8}
2025-05-28 16:20:12,250 - INFO - xgboost - MAE: 1.032, R²: 0.9847
2025-05-28 16:20:12,251 - INFO - Entrenando lightgbm...
2025-05-28 16:20:12,251 - INFO - Optimizando hiperparámetros para lightgbm...
2025-05-28 16:20:34,921 - INFO - Mejores parámetros para lightgbm: {'subsample': 0.8, 'reg_lambda': 0.2, 'reg_alpha': 0.1, 'n_estimators': 500, 'max_depth': 12, 'learning_rate': 0.08, 'colsample_bytree': 0.8}
2025-05-28 16:20:35,380 - INFO - lightgbm - MAE: 0.896, R²: 0.9895
2025-05-28 16:20:35,381 - INFO - Entrenando random_forest...
2025-05-28 16:20:36,136 - INFO - random_forest - MAE: 2.507, R²: 0.9234
2025-05-28 16:20:36,137 - INFO - Entrenando gradient_boosting...
2025-05-28 16:20:38,737 - INFO - gradient_boosting - MAE: 1.304, R²: 0.9783
2025-05-28 16:20:38,737 - INFO - Entrenando extra_trees...
2025-05-28 16:20:39,235 - INFO - extra_trees - MAE: 4.055, R²: 0.8340
2025-05-28 16:20:39,235 - INFO - Entrenando ensemble voting...
2025-05-28 16:20:43,864 - INFO - Entrenando stacking avanzado...
2025-05-28 16:20:49,916 - INFO - Ejecutando validación cruzada...
2025-05-28 16:21:48,507 - INFO - Validación cruzada - MAE: 1.327±0.331
2025-05-28 16:21:48,508 - INFO - Validación cruzada - R²: 0.9788±0.0100
2025-05-28 16:21:48,508 - INFO - Validación cruzada - Precisión ±3pts: 91.8%±5.2%
2025-05-28 16:21:48,508 - INFO - Seleccionando mejor modelo...
2025-05-28 16:21:48,520 - INFO - Mejor modelo seleccionado: lightgbm (MAE: 0.896)
2025-05-28 16:21:48,539 - INFO - Entrenamiento completado exitosamente
2025-05-28 16:21:48,540 - INFO - Realizando predicciones en datos de test...
2025-05-28 16:21:48,540 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:21:49,340 - INFO - Generadas 118 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:21:49,357 - INFO - Analizando importancia de features...
2025-05-28 16:25:29,836 - INFO - Modelos base configurados para predicción de puntos de equipo
2025-05-28 16:25:29,836 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 16:25:29,836 - INFO - TeamPointsModelTester inicializado
2025-05-28 16:25:29,836 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 16:25:29,850 - INFO - Datos cargados: 5226 partidos
2025-05-28 16:25:29,854 - INFO -    - Equipos únicos: 30
2025-05-28 16:25:29,854 - INFO -    - Columnas disponibles: 32
2025-05-28 16:25:29,857 - INFO -    - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 16:25:29,857 - INFO - Estadísticas básicas:
2025-05-28 16:25:29,858 - INFO -    - Puntos promedio: 113.6
2025-05-28 16:25:29,858 - INFO -    - Puntos min/max: 67/162
2025-05-28 16:25:29,858 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 16:25:29,862 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 16:25:29,862 - INFO - Generando features avanzadas...
2025-05-28 16:25:29,862 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:25:30,679 - INFO - Generadas 118 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:25:30,680 - INFO - Features generadas: 118 características
2025-05-28 16:25:30,681 - INFO - Validación completada: 118 features, 110 faltantes
2025-05-28 16:25:30,682 - INFO - Reporte de validación:
2025-05-28 16:25:30,682 - INFO -    - Total features: 118
2025-05-28 16:25:30,682 - INFO -    - Features faltantes: 110
2025-05-28 16:25:30,682 - INFO -    - base_calculations: 0/15 (0.0%)
2025-05-28 16:25:30,683 - INFO -    - team_offense_stats: 8/14 (57.1%)
2025-05-28 16:25:30,683 - INFO -    - shooting_efficiency: 0/4 (0.0%)
2025-05-28 16:25:30,683 - INFO -    - pace_and_possession: 0/1 (0.0%)
2025-05-28 16:25:30,683 - INFO -    - historical_trends: 0/54 (0.0%)
2025-05-28 16:25:30,683 - INFO -    - momentum_features: 0/7 (0.0%)
2025-05-28 16:25:30,683 - INFO -    - contextual_factors: 0/5 (0.0%)
2025-05-28 16:25:30,684 - INFO -    - opponent_impact: 0/3 (0.0%)
2025-05-28 16:25:30,684 - INFO -    - matchup_specific: 0/4 (0.0%)
2025-05-28 16:25:30,684 - INFO -    - temporal_features: 0/4 (0.0%)
2025-05-28 16:25:30,684 - INFO -    - advanced_projections: 0/4 (0.0%)
2025-05-28 16:25:30,684 - INFO -    - final_interactions: 0/3 (0.0%)
2025-05-28 16:25:30,685 - INFO - Iniciando test completo del modelo...
2025-05-28 16:25:30,689 - INFO - División temporal:
2025-05-28 16:25:30,689 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 16:25:30,690 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 16:25:30,690 - INFO - Entrenando modelo...
2025-05-28 16:25:30,691 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 16:25:30,691 - INFO - Generando características avanzadas...
2025-05-28 16:25:30,691 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:25:31,548 - INFO - Generadas 118 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:25:31,550 - WARNING - Características faltantes para equipo: {'team_direct_scoring_projection_avg_10g', 'team_opponent_adjusted_projection', 'team_total_shot_volume', 'team_total_shot_volume_avg_15g', 'team_fgpct_avg_15g', 'team_fta_avg_5g', 'month', 'team_momentum_context', 'team_ft_aggressiveness_avg_15g', 'team_win_pct_5g', 'team_hybrid_projection', 'team_ft_aggressiveness_avg_7g', 'team_scoring_consistency', 'team_conversion_efficiency_avg_5g', 'team_final_projection', 'team_fgpct_avg_10g', 'team_fga_avg_10g', 'team_rivalry_factor', 'team_shooting_rhythm', 'team_total_shot_volume_avg_10g', 'team_ftpct_avg_3g', 'team_fta_avg_10g', 'team_3pa_avg_5g', 'is_weekend', 'team_ts_approx', 'team_fga_avg_3g', 'team_shooting_consistency', 'team_weighted_shot_volume', 'team_fta_avg_3g', 'team_mathematical_projection', 'team_conversion_efficiency', 'team_win_pct_7g', 'team_rest_advantage', 'team_ftpct_avg_5g', 'team_scoring_volatility', 'team_3ppct_avg_10g', 'team_3ppct_avg_7g', 'team_direct_scoring_projection_avg_5g', 'team_3pa_avg_3g', 'team_efficiency_trend', 'team_season_adaptation', 'team_shooting_balance', 'team_fgpct_avg_3g', 'team_fta_avg_7g', 'team_total_shot_volume_avg_3g', 'opponent_def_strength', 'team_total_attempts', 'opponent_defensive_pressure', 'team_fga_avg_7g', 'team_3pa_avg_10g', 'team_scoring_momentum', 'team_3pa_avg_7g', 'team_total_shot_volume_avg_5g', 'team_shots_per_minute', 'team_final_prediction', 'team_ftpct_avg_10g', 'team_ft_aggressiveness_avg_3g', 'team_matchup_advantage', 'team_fga_avg_5g', 'team_energy_factor', 'team_conversion_efficiency_avg_7g', 'team_win_pct_3g', 'days_rest', 'team_scoring_potential', 'team_games_last_week', 'team_efficiency_vs_season', 'team_fga_avg_15g', 'team_conversion_efficiency_avg_3g', 'day_of_week', 'team_2p_shot_rate', 'team_direct_scoring_projection_avg_7g', 'team_fgpct_avg_5g', 'team_shot_quality_index', 'team_3p_shot_rate', 'team_is_home', 'team_ft_aggressiveness_avg_10g', 'team_3p_frequency', 'team_fgpct_avg_7g', 'team_efficiency_stability', 'team_direct_scoring_projection_avg_3g', 'team_home_court_boost', 'team_3ppct_avg_5g', 'team_3pa_avg_15g', 'team_fta_avg_15g', 'team_total_shot_volume_avg_7g', 'team_direct_scoring_projection_avg_15g', 'team_conversion_efficiency_avg_15g', 'team_altitude_factor', 'team_efg_approx', 'team_3ppct_avg_15g', 'team_season_importance', 'team_season_fatigue', 'days_into_season', 'team_ftpct_avg_15g', 'team_urgency_factor', 'team_shot_possessions', 'team_direct_scoring_projection', 'team_conversion_efficiency_avg_10g', 'team_scoring_trend_short', 'opponent_fg_defense', 'team_vs_opp_efficiency_history', 'team_seasonal_improvement', 'team_matchup_scoring_edge', 'team_ft_aggressiveness', 'team_ft_aggressiveness_avg_5g', 'team_season_phase', 'team_vs_opp_scoring_history', 'team_3ppct_avg_3g', 'team_ftpct_avg_7g', 'team_confidence_factor'}
2025-05-28 16:25:31,551 - INFO - Características faltantes más comunes:
2025-05-28 16:25:31,551 - INFO -   - team_direct_scoring_projection_avg_10g
2025-05-28 16:25:31,552 - INFO -   - team_opponent_adjusted_projection
2025-05-28 16:25:31,552 - INFO -   - team_total_shot_volume
2025-05-28 16:25:31,553 - INFO -   - team_total_shot_volume_avg_15g
2025-05-28 16:25:31,553 - INFO -   - team_fgpct_avg_15g
2025-05-28 16:25:31,553 - INFO -   - team_fta_avg_5g
2025-05-28 16:25:31,553 - INFO -   - month
2025-05-28 16:25:31,553 - INFO -   - team_momentum_context
2025-05-28 16:25:31,554 - INFO -   - team_ft_aggressiveness_avg_15g
2025-05-28 16:25:31,554 - INFO -   - team_win_pct_5g
2025-05-28 16:25:31,554 - INFO - Características disponibles para puntos de equipo: 8
2025-05-28 16:25:31,555 - INFO - División temporal: 3341 entrenamiento, 836 validación
2025-05-28 16:25:31,559 - INFO - Entrenando modelos individuales...
2025-05-28 16:25:31,560 - INFO - Entrenando xgboost...
2025-05-28 16:25:31,560 - INFO - Optimizando hiperparámetros para xgboost...
2025-05-28 16:25:50,023 - INFO - Mejores parámetros para xgboost: {'subsample': 0.8, 'reg_lambda': 0.01, 'reg_alpha': 0.2, 'n_estimators': 400, 'max_depth': 6, 'learning_rate': 0.03, 'colsample_bytree': 0.8}
2025-05-28 16:25:50,449 - INFO - xgboost - MAE: 1.032, R²: 0.9847
2025-05-28 16:25:50,449 - INFO - Entrenando lightgbm...
2025-05-28 16:25:50,449 - INFO - Optimizando hiperparámetros para lightgbm...
2025-05-28 16:26:12,935 - INFO - Mejores parámetros para lightgbm: {'subsample': 0.8, 'reg_lambda': 0.2, 'reg_alpha': 0.1, 'n_estimators': 500, 'max_depth': 12, 'learning_rate': 0.08, 'colsample_bytree': 0.8}
2025-05-28 16:26:13,403 - INFO - lightgbm - MAE: 0.896, R²: 0.9895
2025-05-28 16:26:13,403 - INFO - Entrenando random_forest...
2025-05-28 16:26:14,149 - INFO - random_forest - MAE: 2.507, R²: 0.9234
2025-05-28 16:26:14,149 - INFO - Entrenando gradient_boosting...
2025-05-28 16:26:16,664 - INFO - gradient_boosting - MAE: 1.304, R²: 0.9783
2025-05-28 16:26:16,664 - INFO - Entrenando extra_trees...
2025-05-28 16:26:17,172 - INFO - extra_trees - MAE: 4.055, R²: 0.8340
2025-05-28 16:26:17,172 - INFO - Entrenando ensemble voting...
2025-05-28 16:26:21,821 - INFO - Entrenando stacking avanzado...
2025-05-28 16:26:27,403 - INFO - Ejecutando validación cruzada...
2025-05-28 16:27:18,155 - INFO - Validación cruzada - MAE: 1.327±0.331
2025-05-28 16:27:18,155 - INFO - Validación cruzada - R²: 0.9788±0.0100
2025-05-28 16:27:18,155 - INFO - Validación cruzada - Precisión ±3pts: 91.8%±5.2%
2025-05-28 16:27:18,155 - INFO - Seleccionando mejor modelo...
2025-05-28 16:27:18,155 - INFO - Mejor modelo seleccionado: lightgbm (MAE: 0.896)
2025-05-28 16:27:18,179 - INFO - Entrenamiento completado exitosamente
2025-05-28 16:27:18,179 - INFO - Realizando predicciones en datos de test...
2025-05-28 16:27:18,179 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:27:18,906 - INFO - Generadas 118 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:27:18,920 - INFO - Analizando importancia de features...
2025-05-28 16:27:18,932 - INFO - Generando gráficos comprehensivos del modelo...
2025-05-28 16:28:35,787 - ERROR - Error en el test: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-05-28 16:39:03,886 - INFO - Modelos base configurados para predicción de puntos de equipo
2025-05-28 16:39:03,887 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 16:39:03,887 - INFO - TeamPointsModelTester inicializado - ENFOQUE: Solo datos de equipos
2025-05-28 16:39:03,888 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 16:39:03,888 - INFO - OBJETIVO: Predicción de puntos de equipo usando SOLO dataset de teams
2025-05-28 16:39:03,906 - INFO - Datos de equipos cargados exitosamente:
2025-05-28 16:39:03,906 - INFO -   - Partidos de equipos: 5226 registros
2025-05-28 16:39:03,907 - INFO -   - Equipos únicos: 30
2025-05-28 16:39:03,907 - INFO -   - Columnas disponibles: 32
2025-05-28 16:39:03,907 - INFO -   - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 16:39:03,908 - INFO - Estadísticas básicas:
2025-05-28 16:39:03,908 - INFO -   - Puntos promedio: 113.6
2025-05-28 16:39:03,909 - INFO -   - Puntos min/max: 67/162
2025-05-28 16:39:03,910 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 16:39:03,915 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 16:39:03,916 - INFO - Generando features avanzadas...
2025-05-28 16:39:03,916 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:39:04,721 - INFO - Generadas 118 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:39:04,722 - INFO - Features generadas: 118 características
2025-05-28 16:39:04,723 - INFO - Validación completada: 118 features, 110 faltantes
2025-05-28 16:39:04,723 - INFO - Reporte de validación:
2025-05-28 16:39:04,723 - INFO -    - Total features: 118
2025-05-28 16:39:04,724 - INFO -    - Features faltantes: 110
2025-05-28 16:39:04,724 - INFO -    - base_calculations: 0/15 (0.0%)
2025-05-28 16:39:04,724 - INFO -    - team_offense_stats: 8/14 (57.1%)
2025-05-28 16:39:04,724 - INFO -    - shooting_efficiency: 0/4 (0.0%)
2025-05-28 16:39:04,724 - INFO -    - pace_and_possession: 0/1 (0.0%)
2025-05-28 16:39:04,725 - INFO -    - historical_trends: 0/54 (0.0%)
2025-05-28 16:39:04,725 - INFO -    - momentum_features: 0/7 (0.0%)
2025-05-28 16:39:04,725 - INFO -    - contextual_factors: 0/5 (0.0%)
2025-05-28 16:39:04,725 - INFO -    - opponent_impact: 0/3 (0.0%)
2025-05-28 16:39:04,726 - INFO -    - matchup_specific: 0/4 (0.0%)
2025-05-28 16:39:04,726 - INFO -    - temporal_features: 0/4 (0.0%)
2025-05-28 16:39:04,726 - INFO -    - advanced_projections: 0/4 (0.0%)
2025-05-28 16:39:04,726 - INFO -    - final_interactions: 0/3 (0.0%)
2025-05-28 16:39:04,727 - INFO - Iniciando test completo del modelo...
2025-05-28 16:39:04,730 - INFO - División temporal:
2025-05-28 16:39:04,731 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 16:39:04,731 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 16:39:04,731 - INFO - Entrenando modelo...
2025-05-28 16:39:04,732 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 16:39:04,732 - INFO - Generando características avanzadas...
2025-05-28 16:39:04,732 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:39:05,611 - INFO - Generadas 118 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:39:05,613 - WARNING - Características faltantes para equipo: {'team_fga_avg_7g', 'team_momentum_context', 'team_conversion_efficiency_avg_3g', 'is_weekend', 'team_fta_avg_5g', 'team_efficiency_vs_season', 'team_scoring_potential', 'team_ftpct_avg_7g', 'team_conversion_efficiency_avg_10g', 'opponent_def_strength', 'team_fgpct_avg_15g', 'team_matchup_advantage', 'team_ftpct_avg_15g', 'team_shot_possessions', 'team_season_phase', 'team_ft_aggressiveness', 'team_total_shot_volume_avg_10g', 'team_win_pct_3g', 'team_scoring_consistency', 'team_rivalry_factor', 'team_2p_shot_rate', 'team_3ppct_avg_5g', 'team_ft_aggressiveness_avg_7g', 'days_into_season', 'team_fga_avg_15g', 'team_fgpct_avg_10g', 'month', 'team_matchup_scoring_edge', 'team_direct_scoring_projection_avg_7g', 'team_mathematical_projection', 'team_fga_avg_3g', 'team_urgency_factor', 'opponent_fg_defense', 'team_win_pct_5g', 'team_ts_approx', 'team_conversion_efficiency_avg_15g', 'team_ft_aggressiveness_avg_5g', 'team_ftpct_avg_10g', 'team_3ppct_avg_3g', 'team_shots_per_minute', 'team_3p_shot_rate', 'team_fta_avg_10g', 'team_conversion_efficiency', 'team_vs_opp_scoring_history', 'team_seasonal_improvement', 'team_3ppct_avg_15g', 'team_ft_aggressiveness_avg_10g', 'team_fta_avg_3g', 'team_conversion_efficiency_avg_5g', 'team_final_projection', 'team_efficiency_trend', 'team_home_court_boost', 'team_direct_scoring_projection_avg_15g', 'team_fta_avg_15g', 'team_season_fatigue', 'team_total_shot_volume_avg_3g', 'team_opponent_adjusted_projection', 'team_is_home', 'team_ft_aggressiveness_avg_15g', 'team_fta_avg_7g', 'team_3p_frequency', 'team_direct_scoring_projection_avg_10g', 'team_3pa_avg_7g', 'team_total_shot_volume', 'team_rest_advantage', 'team_conversion_efficiency_avg_7g', 'team_confidence_factor', 'team_3ppct_avg_7g', 'team_fgpct_avg_5g', 'team_shooting_rhythm', 'team_shot_quality_index', 'team_total_shot_volume_avg_5g', 'team_altitude_factor', 'team_scoring_volatility', 'team_shooting_consistency', 'team_efficiency_stability', 'team_direct_scoring_projection_avg_3g', 'team_season_adaptation', 'team_direct_scoring_projection_avg_5g', 'team_win_pct_7g', 'team_ftpct_avg_3g', 'team_3pa_avg_3g', 'team_scoring_trend_short', 'team_fgpct_avg_7g', 'days_rest', 'team_fgpct_avg_3g', 'team_vs_opp_efficiency_history', 'team_3ppct_avg_10g', 'team_hybrid_projection', 'team_shooting_balance', 'team_scoring_momentum', 'team_3pa_avg_5g', 'team_total_shot_volume_avg_7g', 'team_3pa_avg_10g', 'team_fga_avg_5g', 'team_weighted_shot_volume', 'team_3pa_avg_15g', 'team_total_shot_volume_avg_15g', 'day_of_week', 'team_fga_avg_10g', 'team_ftpct_avg_5g', 'team_total_attempts', 'team_direct_scoring_projection', 'team_games_last_week', 'opponent_defensive_pressure', 'team_energy_factor', 'team_ft_aggressiveness_avg_3g', 'team_final_prediction', 'team_efg_approx', 'team_season_importance'}
2025-05-28 16:39:05,613 - INFO - Características faltantes más comunes:
2025-05-28 16:39:05,614 - INFO -   - team_fga_avg_7g
2025-05-28 16:39:05,614 - INFO -   - team_momentum_context
2025-05-28 16:39:05,614 - INFO -   - team_conversion_efficiency_avg_3g
2025-05-28 16:39:05,614 - INFO -   - is_weekend
2025-05-28 16:39:05,614 - INFO -   - team_fta_avg_5g
2025-05-28 16:39:05,615 - INFO -   - team_efficiency_vs_season
2025-05-28 16:39:05,615 - INFO -   - team_scoring_potential
2025-05-28 16:39:05,615 - INFO -   - team_ftpct_avg_7g
2025-05-28 16:39:05,616 - INFO -   - team_conversion_efficiency_avg_10g
2025-05-28 16:39:05,616 - INFO -   - opponent_def_strength
2025-05-28 16:39:05,616 - INFO - Características disponibles para puntos de equipo: 8
2025-05-28 16:39:05,618 - INFO - División temporal: 3341 entrenamiento, 836 validación
2025-05-28 16:39:05,624 - INFO - Entrenando modelos individuales...
2025-05-28 16:39:05,624 - INFO - Entrenando xgboost...
2025-05-28 16:39:05,625 - INFO - Optimizando hiperparámetros para xgboost...
2025-05-28 16:39:24,013 - INFO - Mejores parámetros para xgboost: {'subsample': 0.8, 'reg_lambda': 0.01, 'reg_alpha': 0.2, 'n_estimators': 400, 'max_depth': 6, 'learning_rate': 0.03, 'colsample_bytree': 0.8}
2025-05-28 16:39:24,440 - INFO - xgboost - MAE: 1.032, R²: 0.9847
2025-05-28 16:39:24,440 - INFO - Entrenando lightgbm...
2025-05-28 16:39:24,440 - INFO - Optimizando hiperparámetros para lightgbm...
2025-05-28 16:39:44,645 - INFO - Mejores parámetros para lightgbm: {'subsample': 0.8, 'reg_lambda': 0.2, 'reg_alpha': 0.1, 'n_estimators': 500, 'max_depth': 12, 'learning_rate': 0.08, 'colsample_bytree': 0.8}
2025-05-28 16:39:45,127 - INFO - lightgbm - MAE: 0.896, R²: 0.9895
2025-05-28 16:39:45,128 - INFO - Entrenando random_forest...
2025-05-28 16:39:45,877 - INFO - random_forest - MAE: 2.507, R²: 0.9234
2025-05-28 16:39:45,877 - INFO - Entrenando gradient_boosting...
2025-05-28 16:39:48,399 - INFO - gradient_boosting - MAE: 1.304, R²: 0.9783
2025-05-28 16:39:48,399 - INFO - Entrenando extra_trees...
2025-05-28 16:39:48,922 - INFO - extra_trees - MAE: 4.055, R²: 0.8340
2025-05-28 16:39:48,923 - INFO - Entrenando ensemble voting...
2025-05-28 16:39:53,737 - INFO - Entrenando stacking avanzado...
2025-05-28 16:40:00,364 - INFO - Ejecutando validación cruzada...
2025-05-28 16:40:51,259 - INFO - Validación cruzada - MAE: 1.327±0.331
2025-05-28 16:40:51,259 - INFO - Validación cruzada - R²: 0.9788±0.0100
2025-05-28 16:40:51,259 - INFO - Validación cruzada - Precisión ±3pts: 91.8%±5.2%
2025-05-28 16:40:51,261 - INFO - Seleccionando mejor modelo...
2025-05-28 16:40:51,263 - INFO - Mejor modelo seleccionado: lightgbm (MAE: 0.896)
2025-05-28 16:40:51,275 - INFO - Entrenamiento completado exitosamente
2025-05-28 16:40:51,275 - INFO - Realizando predicciones en datos de test...
2025-05-28 16:40:51,275 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:40:52,076 - INFO - Generadas 118 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:40:52,105 - INFO - Analizando importancia de features...
2025-05-28 16:40:52,119 - INFO - Generando figura comprehensiva con todos los análisis del modelo...
2025-05-28 16:40:54,784 - INFO - Figura comprehensiva guardada en plots/comprehensive_model_analysis.png
2025-05-28 16:41:38,061 - INFO - Análisis gráfico comprehensivo completado
2025-05-28 16:50:36,123 - INFO - Modelos base configurados para predicción de puntos de equipo
2025-05-28 16:50:36,124 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 16:50:36,124 - INFO - TeamPointsModelTester inicializado - ENFOQUE: Solo datos de equipos
2025-05-28 16:50:36,125 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 16:50:36,125 - INFO - OBJETIVO: Predicción de puntos de equipo usando SOLO dataset de teams
2025-05-28 16:50:36,141 - INFO - Datos de equipos cargados exitosamente:
2025-05-28 16:50:36,142 - INFO -   - Partidos de equipos: 5226 registros
2025-05-28 16:50:36,143 - INFO -   - Equipos únicos: 30
2025-05-28 16:50:36,143 - INFO -   - Columnas disponibles: 32
2025-05-28 16:50:36,144 - INFO -   - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 16:50:36,145 - INFO - Estadísticas básicas:
2025-05-28 16:50:36,145 - INFO -   - Puntos promedio: 113.6
2025-05-28 16:50:36,145 - INFO -   - Puntos min/max: 67/162
2025-05-28 16:50:36,145 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 16:50:36,150 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 16:50:36,151 - INFO - Generando features avanzadas...
2025-05-28 16:50:36,151 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:50:36,157 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 16:50:36,546 - INFO - Generadas 68 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:50:36,547 - INFO - Features generadas: 68 características
2025-05-28 16:50:36,547 - INFO - Validación completada: 26 features, 26 faltantes
2025-05-28 16:50:36,547 - INFO - Reporte de validación:
2025-05-28 16:50:36,547 - INFO -    - Total features: 26
2025-05-28 16:50:36,547 - INFO -    - Features faltantes: 26
2025-05-28 16:50:36,547 - INFO -    - base_projections: 0/4 (0.0%)
2025-05-28 16:50:36,548 - INFO -    - efficiency_metrics: 0/3 (0.0%)
2025-05-28 16:50:36,548 - INFO -    - historical_trends: 0/4 (0.0%)
2025-05-28 16:50:36,548 - INFO -    - opponent_factors: 0/4 (0.0%)
2025-05-28 16:50:36,548 - INFO -    - contextual_factors: 0/5 (0.0%)
2025-05-28 16:50:36,548 - INFO -    - momentum_features: 0/2 (0.0%)
2025-05-28 16:50:36,548 - INFO -    - final_interactions: 0/4 (0.0%)
2025-05-28 16:50:36,548 - INFO - Iniciando test completo del modelo...
2025-05-28 16:50:36,551 - INFO - División temporal:
2025-05-28 16:50:36,551 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 16:50:36,551 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 16:50:36,552 - INFO - Entrenando modelo...
2025-05-28 16:50:36,552 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 16:50:36,553 - INFO - Generando características avanzadas...
2025-05-28 16:50:36,553 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:50:36,557 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 16:50:36,968 - INFO - Generadas 68 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:50:36,969 - WARNING - Características faltantes para equipo: {'team_direct_projection_avg_5g', 'team_momentum_context', 'real_possessions', 'team_home_court_boost', 'team_rivalry_factor', 'team_direct_projection_avg_10g', 'opponent_off_strength', 'team_ts_avg_7g', 'team_prediction_confidence', 'month', 'team_season_importance', 'team_game_pace', 'team_expected_shots', 'team_conversion_efficiency_avg_5g', 'team_volume_avg_5g', 'team_urgency_factor', 'team_hybrid_projection', 'team_efg_approx', 'team_possessions', 'days_rest', 'opp_possessions', 'opp_efg_approx', 'team_is_win', 'team_win_pct_5g', 'team_is_home', 'team_season_fatigue', 'team_quality_efficiency_interaction', 'team_pace_avg_3g', 'opp_expected_shots', 'team_conversion_efficiency_avg_3g', 'opp_total_shot_volume', 'days_into_season', 'team_conversion_efficiency_avg_7g', 'team_final_projection', 'team_final_prediction', 'team_base_projection', 'team_mathematical_projection', 'team_pace_avg_7g', 'team_energy_factor', 'day_of_week', 'team_volume_avg_10g', 'opponent_quality_factor', 'opp_true_shooting_approx', 'team_conversion_efficiency_avg_10g', 'team_direct_projection_avg_7g', 'team_ts_avg_3g', 'team_direct_scoring_projection', 'team_volume_avg_7g', 'is_weekend', 'team_rest_advantage', 'team_pace_avg_5g', 'team_total_shot_volume', 'team_conversion_efficiency', 'opponent_def_strength', 'team_volume_avg_3g', 'team_weighted_shot_volume', 'team_direct_projection_avg_3g', 'team_matchup_edge', 'opp_conversion_efficiency', 'team_ts_avg_10g', 'team_true_shooting_approx', 'opp_real_possessions', 'team_vs_opp_scoring_history', 'team_pace_avg_10g', 'team_confidence_factor', 'team_ts_avg_5g', 'team_altitude_factor', 'team_pace_efficiency_interaction'}
2025-05-28 16:50:36,970 - INFO - Características faltantes más comunes:
2025-05-28 16:50:36,970 - INFO -   - team_direct_projection_avg_5g
2025-05-28 16:50:36,970 - INFO -   - team_momentum_context
2025-05-28 16:50:36,971 - INFO -   - real_possessions
2025-05-28 16:50:36,971 - INFO -   - team_home_court_boost
2025-05-28 16:50:36,971 - INFO -   - team_rivalry_factor
2025-05-28 16:50:36,971 - INFO -   - team_direct_projection_avg_10g
2025-05-28 16:50:36,972 - INFO -   - opponent_off_strength
2025-05-28 16:50:36,972 - INFO -   - team_ts_avg_7g
2025-05-28 16:50:36,972 - INFO -   - team_prediction_confidence
2025-05-28 16:50:36,972 - INFO -   - month
2025-05-28 16:50:36,972 - INFO - Características disponibles para puntos de equipo: 0
2025-05-28 16:50:36,972 - ERROR - Error en el test: No se encontraron características válidas
2025-05-28 16:52:26,641 - INFO - Modelos base configurados para predicción de puntos de equipo
2025-05-28 16:52:26,641 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 16:52:26,641 - INFO - TeamPointsModelTester inicializado - ENFOQUE: Solo datos de equipos
2025-05-28 16:52:26,641 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 16:52:26,641 - INFO - OBJETIVO: Predicción de puntos de equipo usando SOLO dataset de teams
2025-05-28 16:52:26,657 - INFO - Datos de equipos cargados exitosamente:
2025-05-28 16:52:26,657 - INFO -   - Partidos de equipos: 5226 registros
2025-05-28 16:52:26,657 - INFO -   - Equipos únicos: 30
2025-05-28 16:52:26,657 - INFO -   - Columnas disponibles: 32
2025-05-28 16:52:26,673 - INFO -   - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 16:52:26,674 - INFO - Estadísticas básicas:
2025-05-28 16:52:26,674 - INFO -   - Puntos promedio: 113.6
2025-05-28 16:52:26,674 - INFO -   - Puntos min/max: 67/162
2025-05-28 16:52:26,674 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 16:52:26,674 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 16:52:26,680 - INFO - Generando features avanzadas...
2025-05-28 16:52:26,680 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:52:26,684 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 16:52:27,111 - INFO - Generadas 68 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:52:27,111 - INFO - Features generadas: 68 características
2025-05-28 16:52:27,111 - INFO - Validación completada: 26 features, 0 faltantes
2025-05-28 16:52:27,111 - INFO - Reporte de validación:
2025-05-28 16:52:27,111 - INFO -    - Total features: 26
2025-05-28 16:52:27,111 - INFO -    - Features faltantes: 0
2025-05-28 16:52:27,111 - INFO -    - base_projections: 4/4 (100.0%)
2025-05-28 16:52:27,111 - INFO -    - efficiency_metrics: 3/3 (100.0%)
2025-05-28 16:52:27,111 - INFO -    - historical_trends: 4/4 (100.0%)
2025-05-28 16:52:27,111 - INFO -    - opponent_factors: 4/4 (100.0%)
2025-05-28 16:52:27,111 - INFO -    - contextual_factors: 5/5 (100.0%)
2025-05-28 16:52:27,111 - INFO -    - momentum_features: 2/2 (100.0%)
2025-05-28 16:52:27,111 - INFO -    - final_interactions: 4/4 (100.0%)
2025-05-28 16:52:27,111 - INFO - Iniciando test completo del modelo...
2025-05-28 16:52:27,132 - INFO - División temporal:
2025-05-28 16:52:27,132 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 16:52:27,132 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 16:52:27,132 - INFO - Entrenando modelo...
2025-05-28 16:52:27,132 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 16:52:27,135 - INFO - Generando características avanzadas...
2025-05-28 16:52:27,135 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 16:52:27,136 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 16:52:27,546 - INFO - Generadas 68 características ESPECÍFICAS para puntos de equipo
2025-05-28 16:52:27,546 - INFO - Características disponibles para puntos de equipo: 68
2025-05-28 16:52:27,568 - INFO - División temporal: 3341 entrenamiento, 836 validación
2025-05-28 16:52:27,580 - INFO - Entrenando modelos individuales...
2025-05-28 16:52:27,580 - INFO - Entrenando xgboost...
2025-05-28 16:52:27,582 - INFO - Optimizando hiperparámetros para xgboost...
2025-05-28 16:54:51,642 - INFO - Mejores parámetros para xgboost: {'subsample': 0.9, 'reg_lambda': 0.01, 'reg_alpha': 0.2, 'n_estimators': 500, 'max_depth': 6, 'learning_rate': 0.03, 'colsample_bytree': 0.9}
2025-05-28 16:54:54,123 - INFO - xgboost - MAE: 0.875, R²: 0.9901
2025-05-28 16:54:54,123 - INFO - Entrenando lightgbm...
2025-05-28 16:54:54,123 - INFO - Optimizando hiperparámetros para lightgbm...
2025-05-28 16:55:46,756 - INFO - Mejores parámetros para lightgbm: {'subsample': 0.8, 'reg_lambda': 0.1, 'reg_alpha': 0.1, 'n_estimators': 500, 'max_depth': 12, 'learning_rate': 0.05, 'colsample_bytree': 0.9}
2025-05-28 16:55:48,240 - INFO - lightgbm - MAE: 0.800, R²: 0.9918
2025-05-28 16:55:48,241 - INFO - Entrenando random_forest...
2025-05-28 16:55:49,346 - INFO - random_forest - MAE: 2.295, R²: 0.9424
2025-05-28 16:55:49,346 - INFO - Entrenando gradient_boosting...
2025-05-28 16:56:17,601 - INFO - gradient_boosting - MAE: 1.053, R²: 0.9862
2025-05-28 16:56:17,601 - INFO - Entrenando extra_trees...
2025-05-28 16:56:18,163 - INFO - extra_trees - MAE: 2.550, R²: 0.9317
2025-05-28 16:56:18,164 - INFO - Entrenando ensemble voting...
2025-05-28 16:56:51,737 - INFO - Entrenando stacking avanzado...
2025-05-28 16:57:48,260 - INFO - Ejecutando validación cruzada...
2025-05-28 17:03:56,825 - INFO - Validación cruzada - MAE: 1.117±0.330
2025-05-28 17:03:56,826 - INFO - Validación cruzada - R²: 0.9851±0.0081
2025-05-28 17:03:56,826 - INFO - Validación cruzada - Precisión ±3pts: 94.1%±5.2%
2025-05-28 17:03:56,827 - INFO - Seleccionando mejor modelo...
2025-05-28 17:03:56,832 - INFO - Mejor modelo seleccionado: stacking (MAE: 0.732)
2025-05-28 17:03:56,849 - INFO - Entrenamiento completado exitosamente
2025-05-28 17:03:56,850 - INFO - Realizando predicciones en datos de test...
2025-05-28 17:03:56,851 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:03:56,855 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:03:57,160 - INFO - Generadas 68 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:03:57,350 - INFO - Analizando importancia de features...
2025-05-28 17:03:57,351 - WARNING - No se puede obtener importancia para stacking
2025-05-28 17:03:57,356 - INFO - Generando figura comprehensiva con todos los análisis del modelo...
2025-05-28 17:03:59,744 - INFO - Figura comprehensiva guardada en plots/comprehensive_model_analysis.png
2025-05-28 17:04:44,507 - INFO - Análisis gráfico comprehensivo completado
2025-05-28 17:09:06,289 - INFO - Modelos base configurados para predicción de puntos de equipo con mayor estabilidad
2025-05-28 17:09:06,289 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 17:09:06,290 - INFO - TeamPointsModelTester inicializado - ENFOQUE: Solo datos de equipos
2025-05-28 17:09:06,290 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 17:09:06,290 - INFO - OBJETIVO: Predicción de puntos de equipo usando SOLO dataset de teams
2025-05-28 17:09:06,306 - INFO - Datos de equipos cargados exitosamente:
2025-05-28 17:09:06,307 - INFO -   - Partidos de equipos: 5226 registros
2025-05-28 17:09:06,307 - INFO -   - Equipos únicos: 30
2025-05-28 17:09:06,307 - INFO -   - Columnas disponibles: 32
2025-05-28 17:09:06,308 - INFO -   - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 17:09:06,309 - INFO - Estadísticas básicas:
2025-05-28 17:09:06,309 - INFO -   - Puntos promedio: 113.6
2025-05-28 17:09:06,309 - INFO -   - Puntos min/max: 67/162
2025-05-28 17:09:06,310 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 17:09:06,316 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 17:09:06,316 - INFO - Generando features avanzadas...
2025-05-28 17:09:06,316 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:09:06,322 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:09:06,805 - INFO - Generadas 81 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:09:06,805 - INFO - Features generadas: 81 características
2025-05-28 17:09:06,805 - INFO - Validación completada: 26 features, 0 faltantes
2025-05-28 17:09:06,806 - INFO - Reporte de validación:
2025-05-28 17:09:06,806 - INFO -    - Total features: 26
2025-05-28 17:09:06,806 - INFO -    - Features faltantes: 0
2025-05-28 17:09:06,806 - INFO -    - base_projections: 4/4 (100.0%)
2025-05-28 17:09:06,807 - INFO -    - efficiency_metrics: 3/3 (100.0%)
2025-05-28 17:09:06,807 - INFO -    - historical_trends: 4/4 (100.0%)
2025-05-28 17:09:06,807 - INFO -    - opponent_factors: 4/4 (100.0%)
2025-05-28 17:09:06,807 - INFO -    - contextual_factors: 5/5 (100.0%)
2025-05-28 17:09:06,808 - INFO -    - momentum_features: 2/2 (100.0%)
2025-05-28 17:09:06,808 - INFO -    - final_interactions: 4/4 (100.0%)
2025-05-28 17:09:06,808 - INFO - Iniciando test completo del modelo...
2025-05-28 17:09:06,823 - INFO - División temporal:
2025-05-28 17:09:06,823 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 17:09:06,824 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 17:09:06,824 - INFO - Entrenando modelo...
2025-05-28 17:09:06,824 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 17:09:06,825 - INFO - Generando características avanzadas...
2025-05-28 17:09:06,825 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:09:06,830 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:09:07,287 - INFO - Generadas 81 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:09:07,288 - INFO - Características disponibles para puntos de equipo: 81
2025-05-28 17:09:07,294 - ERROR - Error en el test: Cannot setitem on a Categorical with a new category (0), set the categories first
2025-05-28 17:09:39,165 - INFO - Modelos base configurados para predicción de puntos de equipo con mayor estabilidad
2025-05-28 17:09:39,165 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 17:09:39,165 - INFO - TeamPointsModelTester inicializado - ENFOQUE: Solo datos de equipos
2025-05-28 17:09:39,165 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 17:09:39,165 - INFO - OBJETIVO: Predicción de puntos de equipo usando SOLO dataset de teams
2025-05-28 17:09:39,181 - INFO - Datos de equipos cargados exitosamente:
2025-05-28 17:09:39,181 - INFO -   - Partidos de equipos: 5226 registros
2025-05-28 17:09:39,181 - INFO -   - Equipos únicos: 30
2025-05-28 17:09:39,185 - INFO -   - Columnas disponibles: 32
2025-05-28 17:09:39,185 - INFO -   - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 17:09:39,185 - INFO - Estadísticas básicas:
2025-05-28 17:09:39,185 - INFO -   - Puntos promedio: 113.6
2025-05-28 17:09:39,185 - INFO -   - Puntos min/max: 67/162
2025-05-28 17:09:39,187 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 17:09:39,191 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 17:09:39,191 - INFO - Generando features avanzadas...
2025-05-28 17:09:39,191 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:09:39,198 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:09:39,751 - INFO - Generadas 81 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:09:39,751 - INFO - Features generadas: 81 características
2025-05-28 17:09:39,751 - INFO - Validación completada: 26 features, 0 faltantes
2025-05-28 17:09:39,760 - INFO - Reporte de validación:
2025-05-28 17:09:39,760 - INFO -    - Total features: 26
2025-05-28 17:09:39,760 - INFO -    - Features faltantes: 0
2025-05-28 17:09:39,760 - INFO -    - base_projections: 4/4 (100.0%)
2025-05-28 17:09:39,760 - INFO -    - efficiency_metrics: 3/3 (100.0%)
2025-05-28 17:09:39,760 - INFO -    - historical_trends: 4/4 (100.0%)
2025-05-28 17:09:39,760 - INFO -    - opponent_factors: 4/4 (100.0%)
2025-05-28 17:09:39,760 - INFO -    - contextual_factors: 5/5 (100.0%)
2025-05-28 17:09:39,760 - INFO -    - momentum_features: 2/2 (100.0%)
2025-05-28 17:09:39,762 - INFO -    - final_interactions: 4/4 (100.0%)
2025-05-28 17:09:39,762 - INFO - Iniciando test completo del modelo...
2025-05-28 17:09:39,774 - INFO - División temporal:
2025-05-28 17:09:39,776 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 17:09:39,776 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 17:09:39,777 - INFO - Entrenando modelo...
2025-05-28 17:09:39,778 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 17:09:39,778 - INFO - Generando características avanzadas...
2025-05-28 17:09:39,778 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:09:39,781 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:09:40,211 - INFO - Generadas 81 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:09:40,211 - INFO - Características disponibles para puntos de equipo: 81
2025-05-28 17:09:40,219 - INFO - División temporal: 3341 entrenamiento, 836 validación
2025-05-28 17:09:40,231 - ERROR - Error en el test: could not convert string to float: 'high_scoring'
2025-05-28 17:11:15,184 - INFO - Modelos base configurados para predicción de puntos de equipo con mayor estabilidad
2025-05-28 17:11:15,184 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 17:11:15,184 - INFO - TeamPointsModelTester inicializado - ENFOQUE: Solo datos de equipos
2025-05-28 17:11:15,184 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 17:11:15,184 - INFO - OBJETIVO: Predicción de puntos de equipo usando SOLO dataset de teams
2025-05-28 17:11:15,206 - INFO - Datos de equipos cargados exitosamente:
2025-05-28 17:11:15,207 - INFO -   - Partidos de equipos: 5226 registros
2025-05-28 17:11:15,207 - INFO -   - Equipos únicos: 30
2025-05-28 17:11:15,209 - INFO -   - Columnas disponibles: 32
2025-05-28 17:11:15,209 - INFO -   - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 17:11:15,209 - INFO - Estadísticas básicas:
2025-05-28 17:11:15,209 - INFO -   - Puntos promedio: 113.6
2025-05-28 17:11:15,209 - INFO -   - Puntos min/max: 67/162
2025-05-28 17:11:15,209 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 17:11:15,217 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 17:11:15,217 - INFO - Generando features avanzadas...
2025-05-28 17:11:15,217 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:11:15,223 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:11:15,686 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:11:15,686 - INFO - Features generadas: 79 características
2025-05-28 17:11:15,686 - INFO - Validación completada: 26 features, 0 faltantes
2025-05-28 17:11:15,686 - INFO - Reporte de validación:
2025-05-28 17:11:15,686 - INFO -    - Total features: 26
2025-05-28 17:11:15,686 - INFO -    - Features faltantes: 0
2025-05-28 17:11:15,686 - INFO -    - base_projections: 4/4 (100.0%)
2025-05-28 17:11:15,686 - INFO -    - efficiency_metrics: 3/3 (100.0%)
2025-05-28 17:11:15,686 - INFO -    - historical_trends: 4/4 (100.0%)
2025-05-28 17:11:15,686 - INFO -    - opponent_factors: 4/4 (100.0%)
2025-05-28 17:11:15,686 - INFO -    - contextual_factors: 5/5 (100.0%)
2025-05-28 17:11:15,686 - INFO -    - momentum_features: 2/2 (100.0%)
2025-05-28 17:11:15,686 - INFO -    - final_interactions: 4/4 (100.0%)
2025-05-28 17:11:15,686 - INFO - Iniciando test completo del modelo...
2025-05-28 17:11:15,704 - INFO - División temporal:
2025-05-28 17:11:15,706 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 17:11:15,706 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 17:11:15,706 - INFO - Entrenando modelo...
2025-05-28 17:11:15,706 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 17:11:15,706 - INFO - Generando características avanzadas...
2025-05-28 17:11:15,706 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:11:15,710 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:11:16,139 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:11:16,142 - INFO - Características disponibles para puntos de equipo: 79
2025-05-28 17:11:16,150 - INFO - División temporal: 3341 entrenamiento, 836 validación
2025-05-28 17:11:16,162 - INFO - Entrenando modelos individuales...
2025-05-28 17:11:16,164 - INFO - Entrenando xgboost...
2025-05-28 17:11:16,164 - INFO - Optimizando hiperparámetros para xgboost...
2025-05-28 17:11:23,417 - ERROR - Error en el test: 
All the 60 fits failed.
It is very likely that your model is misconfigured.
You can try to debug the error by setting error_score='raise'.

Below are more details about the failures:
--------------------------------------------------------------------------------
60 fits failed with the following error:
Traceback (most recent call last):
  File "C:\Users\virma\Downloads\nbafinal\.venv\lib\site-packages\sklearn\model_selection\_validation.py", line 866, in _fit_and_score
    estimator.fit(X_train, y_train, **fit_params)
  File "C:\Users\virma\Downloads\nbafinal\.venv\lib\site-packages\xgboost\core.py", line 729, in inner_f
    return func(**kwargs)
  File "C:\Users\virma\Downloads\nbafinal\.venv\lib\site-packages\xgboost\sklearn.py", line 1247, in fit
    self._Booster = train(
  File "C:\Users\virma\Downloads\nbafinal\.venv\lib\site-packages\xgboost\core.py", line 729, in inner_f
    return func(**kwargs)
  File "C:\Users\virma\Downloads\nbafinal\.venv\lib\site-packages\xgboost\training.py", line 184, in train
    if cb_container.after_iteration(bst, i, dtrain, evals):
  File "C:\Users\virma\Downloads\nbafinal\.venv\lib\site-packages\xgboost\callback.py", line 267, in after_iteration
    ret = any(c.after_iteration(model, epoch, self.history) for c in self.callbacks)
  File "C:\Users\virma\Downloads\nbafinal\.venv\lib\site-packages\xgboost\callback.py", line 267, in <genexpr>
    ret = any(c.after_iteration(model, epoch, self.history) for c in self.callbacks)
  File "C:\Users\virma\Downloads\nbafinal\.venv\lib\site-packages\xgboost\callback.py", line 463, in after_iteration
    raise ValueError(msg)
ValueError: Must have at least 1 validation dataset for early stopping.

2025-05-28 17:12:49,635 - INFO - Modelos base configurados para predicción de puntos de equipo con mayor estabilidad
2025-05-28 17:12:49,635 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo LassoCV
2025-05-28 17:12:49,636 - INFO - TeamPointsModelTester inicializado - ENFOQUE: Solo datos de equipos
2025-05-28 17:12:49,636 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 17:12:49,636 - INFO - OBJETIVO: Predicción de puntos de equipo usando SOLO dataset de teams
2025-05-28 17:12:49,654 - INFO - Datos de equipos cargados exitosamente:
2025-05-28 17:12:49,654 - INFO -   - Partidos de equipos: 5226 registros
2025-05-28 17:12:49,655 - INFO -   - Equipos únicos: 30
2025-05-28 17:12:49,655 - INFO -   - Columnas disponibles: 32
2025-05-28 17:12:49,656 - INFO -   - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 17:12:49,656 - INFO - Estadísticas básicas:
2025-05-28 17:12:49,657 - INFO -   - Puntos promedio: 113.6
2025-05-28 17:12:49,657 - INFO -   - Puntos min/max: 67/162
2025-05-28 17:12:49,658 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 17:12:49,665 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 17:12:49,665 - INFO - Generando features avanzadas...
2025-05-28 17:12:49,665 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:12:49,671 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:12:50,273 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:12:50,273 - INFO - Features generadas: 79 características
2025-05-28 17:12:50,273 - INFO - Validación completada: 26 features, 0 faltantes
2025-05-28 17:12:50,273 - INFO - Reporte de validación:
2025-05-28 17:12:50,273 - INFO -    - Total features: 26
2025-05-28 17:12:50,273 - INFO -    - Features faltantes: 0
2025-05-28 17:12:50,273 - INFO -    - base_projections: 4/4 (100.0%)
2025-05-28 17:12:50,273 - INFO -    - efficiency_metrics: 3/3 (100.0%)
2025-05-28 17:12:50,273 - INFO -    - historical_trends: 4/4 (100.0%)
2025-05-28 17:12:50,273 - INFO -    - opponent_factors: 4/4 (100.0%)
2025-05-28 17:12:50,273 - INFO -    - contextual_factors: 5/5 (100.0%)
2025-05-28 17:12:50,273 - INFO -    - momentum_features: 2/2 (100.0%)
2025-05-28 17:12:50,273 - INFO -    - final_interactions: 4/4 (100.0%)
2025-05-28 17:12:50,273 - INFO - Iniciando test completo del modelo...
2025-05-28 17:12:50,291 - INFO - División temporal:
2025-05-28 17:12:50,291 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 17:12:50,291 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 17:12:50,291 - INFO - Entrenando modelo...
2025-05-28 17:12:50,291 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 17:12:50,291 - INFO - Generando características avanzadas...
2025-05-28 17:12:50,291 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:12:50,297 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:12:50,726 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:12:50,726 - INFO - Características disponibles para puntos de equipo: 79
2025-05-28 17:12:50,726 - INFO - División temporal: 3341 entrenamiento, 836 validación
2025-05-28 17:12:50,748 - INFO - Entrenando modelos individuales...
2025-05-28 17:12:50,748 - INFO - Entrenando xgboost...
2025-05-28 17:12:50,749 - INFO - Optimizando hiperparámetros para xgboost...
2025-05-28 17:14:52,437 - INFO - Mejores parámetros para xgboost: {'subsample': 0.9, 'reg_lambda': 0.01, 'reg_alpha': 0.2, 'n_estimators': 500, 'max_depth': 6, 'learning_rate': 0.03, 'colsample_bytree': 0.9}
2025-05-28 17:14:55,452 - INFO - xgboost - MAE: 0.899, R²: 0.9898
2025-05-28 17:14:55,452 - INFO - Entrenando lightgbm...
2025-05-28 17:14:55,452 - INFO - Optimizando hiperparámetros para lightgbm...
2025-05-28 17:15:53,159 - INFO - Mejores parámetros para lightgbm: {'subsample': 0.8, 'reg_lambda': 0.1, 'reg_alpha': 0.1, 'n_estimators': 500, 'max_depth': 12, 'learning_rate': 0.05, 'colsample_bytree': 0.9}
2025-05-28 17:15:54,891 - INFO - lightgbm - MAE: 0.815, R²: 0.9915
2025-05-28 17:15:54,891 - INFO - Entrenando random_forest...
2025-05-28 17:15:56,598 - INFO - random_forest - MAE: 2.473, R²: 0.9344
2025-05-28 17:15:56,598 - INFO - Entrenando gradient_boosting...
2025-05-28 17:16:39,214 - INFO - gradient_boosting - MAE: 0.925, R²: 0.9888
2025-05-28 17:16:39,214 - INFO - Entrenando extra_trees...
2025-05-28 17:16:40,126 - INFO - extra_trees - MAE: 2.792, R²: 0.9192
2025-05-28 17:16:40,126 - INFO - Entrenando ensemble voting...
2025-05-28 17:17:28,860 - INFO - Entrenando stacking avanzado...
2025-05-28 17:18:18,934 - INFO - Ejecutando validación cruzada...
2025-05-28 17:25:17,486 - INFO - Validación cruzada - MAE: 1.125±0.315
2025-05-28 17:25:17,487 - INFO - Validación cruzada - R²: 0.9852±0.0075
2025-05-28 17:25:17,488 - INFO - Validación cruzada - Precisión ±3pts: 94.2%±5.2%
2025-05-28 17:25:17,488 - INFO - Seleccionando mejor modelo...
2025-05-28 17:25:17,494 - INFO - Mejor modelo seleccionado: stacking (MAE: 0.725)
2025-05-28 17:25:17,506 - INFO - Entrenamiento completado exitosamente
2025-05-28 17:25:17,508 - INFO - Realizando predicciones en datos de test...
2025-05-28 17:25:17,508 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:25:17,512 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:25:17,855 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:25:17,992 - INFO - Analizando importancia de features...
2025-05-28 17:25:17,993 - WARNING - No se puede obtener importancia para stacking
2025-05-28 17:25:18,000 - INFO - Generando figura comprehensiva con todos los análisis del modelo...
2025-05-28 17:25:20,651 - INFO - Figura comprehensiva guardada en plots/comprehensive_model_analysis.png
2025-05-28 17:26:44,879 - INFO - Análisis gráfico comprehensivo completado
2025-05-28 17:35:27,165 - INFO - Modelos base configurados para predicción de puntos de equipo con mayor estabilidad
2025-05-28 17:35:27,165 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo RidgeCV
2025-05-28 17:35:27,165 - INFO - TeamPointsModelTester inicializado - ENFOQUE: Solo datos de equipos
2025-05-28 17:35:27,166 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 17:35:27,166 - INFO - OBJETIVO: Predicción de puntos de equipo usando SOLO dataset de teams
2025-05-28 17:35:27,188 - INFO - Datos de equipos cargados exitosamente:
2025-05-28 17:35:27,188 - INFO -   - Partidos de equipos: 5226 registros
2025-05-28 17:35:27,189 - INFO -   - Equipos únicos: 30
2025-05-28 17:35:27,189 - INFO -   - Columnas disponibles: 32
2025-05-28 17:35:27,190 - INFO -   - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 17:35:27,191 - INFO - Estadísticas básicas:
2025-05-28 17:35:27,191 - INFO -   - Puntos promedio: 113.6
2025-05-28 17:35:27,192 - INFO -   - Puntos min/max: 67/162
2025-05-28 17:35:27,193 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 17:35:27,200 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 17:35:27,201 - INFO - Generando features avanzadas...
2025-05-28 17:35:27,202 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:35:27,211 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:35:27,895 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:35:27,895 - INFO - Features generadas: 79 características
2025-05-28 17:35:27,896 - INFO - Validación completada: 26 features, 0 faltantes
2025-05-28 17:35:27,896 - INFO - Reporte de validación:
2025-05-28 17:35:27,896 - INFO -    - Total features: 26
2025-05-28 17:35:27,896 - INFO -    - Features faltantes: 0
2025-05-28 17:35:27,897 - INFO -    - base_projections: 4/4 (100.0%)
2025-05-28 17:35:27,897 - INFO -    - efficiency_metrics: 3/3 (100.0%)
2025-05-28 17:35:27,897 - INFO -    - historical_trends: 4/4 (100.0%)
2025-05-28 17:35:27,897 - INFO -    - opponent_factors: 4/4 (100.0%)
2025-05-28 17:35:27,898 - INFO -    - contextual_factors: 5/5 (100.0%)
2025-05-28 17:35:27,898 - INFO -    - momentum_features: 2/2 (100.0%)
2025-05-28 17:35:27,898 - INFO -    - final_interactions: 4/4 (100.0%)
2025-05-28 17:35:27,898 - INFO - Iniciando test completo del modelo...
2025-05-28 17:35:27,918 - INFO - División temporal:
2025-05-28 17:35:27,918 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 17:35:27,919 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 17:35:27,919 - INFO - Entrenando modelo...
2025-05-28 17:35:27,919 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 17:35:27,920 - INFO - Generando características avanzadas...
2025-05-28 17:35:27,920 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:35:27,926 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:35:28,431 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:35:28,436 - INFO - Características disponibles para puntos de equipo: 79
2025-05-28 17:35:28,443 - INFO - División temporal: 3341 entrenamiento, 836 validación
2025-05-28 17:35:28,457 - INFO - Entrenando modelos individuales...
2025-05-28 17:35:28,457 - INFO - Entrenando xgboost...
2025-05-28 17:35:28,458 - INFO - Optimizando hiperparámetros para xgboost...
2025-05-28 17:37:22,283 - INFO - Mejores parámetros para xgboost: {'subsample': 0.9, 'reg_lambda': 0.01, 'reg_alpha': 0.2, 'n_estimators': 500, 'max_depth': 6, 'learning_rate': 0.03, 'colsample_bytree': 0.9}
2025-05-28 17:37:24,771 - INFO - xgboost - MAE: 0.899, R²: 0.9898
2025-05-28 17:37:24,772 - INFO - Entrenando lightgbm...
2025-05-28 17:37:24,772 - INFO - Optimizando hiperparámetros para lightgbm...
2025-05-28 17:38:17,800 - INFO - Mejores parámetros para lightgbm: {'subsample': 0.8, 'reg_lambda': 0.1, 'reg_alpha': 0.1, 'n_estimators': 500, 'max_depth': 12, 'learning_rate': 0.05, 'colsample_bytree': 0.9}
2025-05-28 17:38:19,019 - INFO - lightgbm - MAE: 0.815, R²: 0.9915
2025-05-28 17:38:19,020 - INFO - Entrenando random_forest...
2025-05-28 17:38:20,468 - INFO - random_forest - MAE: 2.473, R²: 0.9344
2025-05-28 17:38:20,468 - INFO - Entrenando gradient_boosting...
2025-05-28 17:39:02,402 - INFO - gradient_boosting - MAE: 0.925, R²: 0.9888
2025-05-28 17:39:02,402 - INFO - Entrenando extra_trees...
2025-05-28 17:39:03,208 - INFO - extra_trees - MAE: 2.792, R²: 0.9192
2025-05-28 17:39:03,209 - INFO - Entrenando ensemble voting...
2025-05-28 17:39:50,472 - INFO - Entrenando stacking avanzado...
2025-05-28 17:40:46,481 - INFO - Ejecutando validación cruzada...
2025-05-28 17:48:14,631 - INFO - Validación cruzada - MAE: 1.124±0.315
2025-05-28 17:48:14,631 - INFO - Validación cruzada - R²: 0.9852±0.0075
2025-05-28 17:48:14,632 - INFO - Validación cruzada - Precisión ±3pts: 94.2%±5.2%
2025-05-28 17:48:14,632 - INFO - Seleccionando mejor modelo...
2025-05-28 17:48:14,638 - INFO - Mejor modelo seleccionado: stacking (MAE: 0.725)
2025-05-28 17:48:14,649 - INFO - Entrenamiento completado exitosamente
2025-05-28 17:48:14,650 - INFO - Realizando predicciones en datos de test...
2025-05-28 17:48:14,651 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:48:14,653 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:48:14,999 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:48:15,156 - INFO - Analizando importancia de features...
2025-05-28 17:48:15,156 - WARNING - No se puede obtener importancia para stacking
2025-05-28 17:48:15,162 - INFO - Generando figura comprehensiva con todos los análisis del modelo...
2025-05-28 17:48:17,612 - INFO - Figura comprehensiva guardada en plots/comprehensive_model_analysis.png
2025-05-28 17:48:30,064 - INFO - Análisis gráfico comprehensivo completado
2025-05-28 17:57:45,531 - INFO - Modelos base configurados para predicción de puntos de equipo con mayor estabilidad
2025-05-28 17:57:45,531 - INFO - Modelo de stacking robusto configurado con 5 modelos base + meta-modelo RidgeCV
2025-05-28 17:57:45,531 - INFO - TeamPointsModelTester inicializado - ENFOQUE: Solo datos de equipos
2025-05-28 17:57:45,531 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 17:57:45,531 - INFO - OBJETIVO: Predicción de puntos de equipo usando SOLO dataset de teams
2025-05-28 17:57:45,553 - INFO - Datos de equipos cargados exitosamente:
2025-05-28 17:57:45,553 - INFO -   - Partidos de equipos: 5226 registros
2025-05-28 17:57:45,553 - INFO -   - Equipos únicos: 30
2025-05-28 17:57:45,554 - INFO -   - Columnas disponibles: 32
2025-05-28 17:57:45,554 - INFO -   - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 17:57:45,554 - INFO - Estadísticas básicas:
2025-05-28 17:57:45,555 - INFO -   - Puntos promedio: 113.6
2025-05-28 17:57:45,555 - INFO -   - Puntos min/max: 67/162
2025-05-28 17:57:45,556 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 17:57:45,559 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 17:57:45,559 - INFO - Generando features avanzadas...
2025-05-28 17:57:45,562 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:57:45,567 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:57:46,018 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:57:46,018 - INFO - Features generadas: 79 características
2025-05-28 17:57:46,018 - INFO - Validación completada: 26 features, 0 faltantes
2025-05-28 17:57:46,018 - INFO - Reporte de validación:
2025-05-28 17:57:46,018 - INFO -    - Total features: 26
2025-05-28 17:57:46,018 - INFO -    - Features faltantes: 0
2025-05-28 17:57:46,018 - INFO -    - base_projections: 4/4 (100.0%)
2025-05-28 17:57:46,018 - INFO -    - efficiency_metrics: 3/3 (100.0%)
2025-05-28 17:57:46,018 - INFO -    - historical_trends: 4/4 (100.0%)
2025-05-28 17:57:46,018 - INFO -    - opponent_factors: 4/4 (100.0%)
2025-05-28 17:57:46,018 - INFO -    - contextual_factors: 5/5 (100.0%)
2025-05-28 17:57:46,018 - INFO -    - momentum_features: 2/2 (100.0%)
2025-05-28 17:57:46,018 - INFO -    - final_interactions: 4/4 (100.0%)
2025-05-28 17:57:46,018 - INFO - Iniciando test completo del modelo...
2025-05-28 17:57:46,039 - INFO - División temporal:
2025-05-28 17:57:46,040 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 17:57:46,040 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 17:57:46,041 - INFO - Entrenando modelo...
2025-05-28 17:57:46,041 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 17:57:46,041 - INFO - Generando características avanzadas...
2025-05-28 17:57:46,041 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 17:57:46,046 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 17:57:46,471 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 17:57:46,472 - INFO - Características disponibles para puntos de equipo: 79
2025-05-28 17:57:46,479 - INFO - División temporal: 3341 entrenamiento, 836 validación
2025-05-28 17:57:46,491 - INFO - Entrenando modelos individuales...
2025-05-28 17:57:46,492 - INFO - Entrenando xgboost...
2025-05-28 17:57:46,492 - INFO - Optimizando hiperparámetros para xgboost...
2025-05-28 17:59:39,054 - INFO - Mejores parámetros para xgboost: {'subsample': 0.9, 'reg_lambda': 0.01, 'reg_alpha': 0.2, 'n_estimators': 500, 'max_depth': 6, 'learning_rate': 0.03, 'colsample_bytree': 0.9}
2025-05-28 17:59:42,354 - INFO - xgboost - MAE: 0.899, R²: 0.9898
2025-05-28 17:59:42,355 - INFO - Entrenando lightgbm...
2025-05-28 17:59:42,355 - INFO - Optimizando hiperparámetros para lightgbm...
2025-05-28 18:00:38,410 - INFO - Mejores parámetros para lightgbm: {'subsample': 0.8, 'reg_lambda': 0.1, 'reg_alpha': 0.1, 'n_estimators': 500, 'max_depth': 12, 'learning_rate': 0.05, 'colsample_bytree': 0.9}
2025-05-28 18:00:39,647 - INFO - lightgbm - MAE: 0.815, R²: 0.9915
2025-05-28 18:00:39,649 - INFO - Entrenando random_forest...
2025-05-28 18:00:41,137 - INFO - random_forest - MAE: 2.473, R²: 0.9344
2025-05-28 18:00:41,137 - INFO - Entrenando gradient_boosting...
2025-05-28 18:01:22,886 - INFO - gradient_boosting - MAE: 0.925, R²: 0.9888
2025-05-28 18:01:22,887 - INFO - Entrenando extra_trees...
2025-05-28 18:01:23,681 - INFO - extra_trees - MAE: 2.792, R²: 0.9192
2025-05-28 18:01:23,682 - INFO - Entrenando ensemble voting...
2025-05-28 18:02:13,120 - INFO - Entrenando stacking avanzado...
2025-05-28 18:03:19,967 - INFO - Ejecutando validación cruzada...
2025-05-28 18:10:22,909 - INFO - Validación cruzada - MAE: 1.124±0.315
2025-05-28 18:10:22,909 - INFO - Validación cruzada - R²: 0.9852±0.0075
2025-05-28 18:10:22,910 - INFO - Validación cruzada - Precisión ±3pts: 94.2%±5.2%
2025-05-28 18:10:22,910 - INFO - Seleccionando mejor modelo...
2025-05-28 18:10:22,915 - INFO - Mejor modelo seleccionado: stacking (MAE: 0.725)
2025-05-28 18:10:22,929 - INFO - Entrenamiento completado exitosamente
2025-05-28 18:10:22,930 - INFO - Realizando predicciones en datos de test...
2025-05-28 18:10:22,930 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 18:10:22,933 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 18:10:23,288 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 18:10:23,444 - INFO - Analizando importancia de features...
2025-05-28 18:10:23,445 - WARNING - No se puede obtener importancia para stacking
2025-05-28 18:10:23,445 - WARNING - No se pudo obtener importancia de características del modelo principal
2025-05-28 18:10:23,445 - INFO - Intentando obtener importancia de modelos base...
2025-05-28 18:10:23,451 - INFO - Importancia de características obtenida de xgboost
2025-05-28 18:10:23,459 - INFO - Generando figura comprehensiva con todos los análisis del modelo...
2025-05-28 18:10:26,090 - INFO - Figura comprehensiva guardada en plots/comprehensive_model_analysis.png
2025-05-28 18:10:42,440 - INFO - Análisis gráfico comprehensivo completado
2025-05-28 18:14:16,696 - INFO - Modelos base configurados con REGULARIZACIÓN AGRESIVA para mayor estabilidad
2025-05-28 18:14:16,701 - INFO - TeamPointsModelTester inicializado - ENFOQUE: Solo datos de equipos
2025-05-28 18:14:16,702 - INFO - Cargando datos de equipos desde: data/teams.csv
2025-05-28 18:14:16,702 - INFO - OBJETIVO: Predicción de puntos de equipo usando SOLO dataset de teams
2025-05-28 18:14:16,718 - INFO - Datos de equipos cargados exitosamente:
2025-05-28 18:14:16,719 - INFO -   - Partidos de equipos: 5226 registros
2025-05-28 18:14:16,720 - INFO -   - Equipos únicos: 30
2025-05-28 18:14:16,720 - INFO -   - Columnas disponibles: 32
2025-05-28 18:14:16,721 - INFO -   - Rango de fechas: 2023-10-24 a 2025-05-24
2025-05-28 18:14:16,721 - INFO - Estadísticas básicas:
2025-05-28 18:14:16,721 - INFO -   - Puntos promedio: 113.6
2025-05-28 18:14:16,722 - INFO -   - Puntos min/max: 67/162
2025-05-28 18:14:16,723 - INFO - Iniciando preprocesamiento de datos...
2025-05-28 18:14:16,727 - INFO - Datos limpios: 5224 partidos después del filtrado
2025-05-28 18:14:16,728 - INFO - Generando features avanzadas...
2025-05-28 18:14:16,728 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 18:14:16,735 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 18:14:17,193 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 18:14:17,193 - INFO - Features generadas: 79 características
2025-05-28 18:14:17,194 - INFO - Validación completada: 26 features, 0 faltantes
2025-05-28 18:14:17,194 - INFO - Reporte de validación:
2025-05-28 18:14:17,194 - INFO -    - Total features: 26
2025-05-28 18:14:17,195 - INFO -    - Features faltantes: 0
2025-05-28 18:14:17,195 - INFO -    - base_projections: 4/4 (100.0%)
2025-05-28 18:14:17,195 - INFO -    - efficiency_metrics: 3/3 (100.0%)
2025-05-28 18:14:17,195 - INFO -    - historical_trends: 4/4 (100.0%)
2025-05-28 18:14:17,195 - INFO -    - opponent_factors: 4/4 (100.0%)
2025-05-28 18:14:17,196 - INFO -    - contextual_factors: 5/5 (100.0%)
2025-05-28 18:14:17,196 - INFO -    - momentum_features: 2/2 (100.0%)
2025-05-28 18:14:17,196 - INFO -    - final_interactions: 4/4 (100.0%)
2025-05-28 18:14:17,197 - INFO - Iniciando test completo del modelo...
2025-05-28 18:14:17,211 - INFO - División temporal:
2025-05-28 18:14:17,211 - INFO -    - Entrenamiento: 4177 partidos hasta 2025-02-09
2025-05-28 18:14:17,211 - INFO -    - Testing: 1047 partidos desde 2025-02-09
2025-05-28 18:14:17,211 - INFO - Entrenando modelo...
2025-05-28 18:14:17,211 - INFO - Iniciando entrenamiento del modelo de puntos de equipo...
2025-05-28 18:14:17,212 - INFO - Generando características avanzadas...
2025-05-28 18:14:17,212 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 18:14:17,219 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 18:14:17,658 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 18:14:17,659 - INFO - Características disponibles para puntos de equipo: 79
2025-05-28 18:14:17,665 - INFO - División temporal: 3341 entrenamiento, 836 validación
2025-05-28 18:14:17,678 - INFO - Entrenando modelos individuales...
2025-05-28 18:14:17,679 - INFO - Entrenando xgboost...
2025-05-28 18:14:17,679 - INFO - Optimizando hiperparámetros para xgboost con REGULARIZACIÓN AGRESIVA...
2025-05-28 18:14:37,695 - INFO - Mejores parámetros REGULARIZADOS para xgboost: {'subsample': 0.7, 'reg_lambda': 0.3, 'reg_alpha': 0.3, 'n_estimators': 400, 'min_child_weight': 8, 'max_depth': 3, 'learning_rate': 0.05, 'gamma': 0.1, 'colsample_bytree': 0.8}
2025-05-28 18:14:38,673 - INFO - xgboost - MAE: 2.190, R²: 0.9352
2025-05-28 18:14:38,674 - INFO - Entrenando lightgbm...
2025-05-28 18:14:38,674 - INFO - Optimizando hiperparámetros para lightgbm con REGULARIZACIÓN AGRESIVA...
2025-05-28 18:15:19,732 - INFO - Mejores parámetros REGULARIZADOS para lightgbm: {'subsample': 0.8, 'reg_lambda': 0.5, 'reg_alpha': 0.3, 'n_estimators': 300, 'min_split_gain': 0.1, 'min_child_samples': 40, 'max_depth': 7, 'learning_rate': 0.05, 'feature_fraction': 0.8, 'colsample_bytree': 0.8}
2025-05-28 18:15:20,597 - INFO - lightgbm - MAE: 0.886, R²: 0.9898
2025-05-28 18:15:20,597 - INFO - Entrenando random_forest...
2025-05-28 18:15:23,339 - INFO - random_forest - MAE: 2.166, R²: 0.9475
2025-05-28 18:15:23,339 - INFO - Entrenando gradient_boosting...
2025-05-28 18:15:35,610 - INFO - gradient_boosting - MAE: 1.058, R²: 0.9869
2025-05-28 18:15:35,610 - INFO - Entrenando extra_trees...
2025-05-28 18:15:36,319 - INFO - extra_trees - MAE: 2.602, R²: 0.9273
2025-05-28 18:15:36,320 - INFO - Entrenando ensemble voting...
2025-05-28 18:15:53,189 - INFO - Entrenando stacking avanzado...
2025-05-28 18:16:07,211 - INFO - Ejecutando validación cruzada...
2025-05-28 18:19:16,339 - INFO - Validación cruzada ROBUSTA (7-fold) - MAE: 1.353±0.314
2025-05-28 18:19:16,339 - INFO - Estabilidad CV (std/mean): 0.232
2025-05-28 18:19:16,339 - INFO - Rango MAE: [1.033, 1.961] (±0.929)
2025-05-28 18:19:16,339 - INFO - Validación cruzada - R²: 0.9795±0.0095
2025-05-28 18:19:16,339 - INFO - Validación cruzada - Precisión ±3pts: 90.6%±6.6%
2025-05-28 18:19:16,339 - INFO - Seleccionando mejor modelo...
2025-05-28 18:19:16,339 - INFO - Mejor modelo seleccionado: lightgbm (MAE: 0.886)
2025-05-28 18:19:16,361 - INFO - Entrenamiento completado exitosamente
2025-05-28 18:19:16,362 - INFO - Realizando predicciones en datos de test...
2025-05-28 18:19:16,362 - INFO - Generando features NBA específicas OPTIMIZADAS para puntos de equipo...
2025-05-28 18:19:16,365 - INFO - Calculando métricas base NBA para equipo...
2025-05-28 18:19:16,700 - INFO - Generadas 79 características ESPECÍFICAS para puntos de equipo
2025-05-28 18:19:16,731 - INFO - Analizando importancia de features...
2025-05-28 18:19:16,756 - INFO - Generando figura comprehensiva con todos los análisis del modelo...
2025-05-28 18:19:19,472 - INFO - Figura comprehensiva guardada en plots/comprehensive_model_analysis.png
2025-05-28 18:20:03,014 - INFO - Análisis gráfico comprehensivo completado
